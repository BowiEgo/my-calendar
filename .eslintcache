[{"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/CalendarGrid/CalendarGrid.js":"1","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/CalendarGrid/CalendarGridPointer.js":"2","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/CalendarGrid/CalendarGridTable.js":"3","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/index.js":"4","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/reportWebVitals.js":"5","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/themes.js":"6","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/index.js":"7","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/CalendarGrid/index.js":"8","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/TaskBlock/TaskBlock.js":"9","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/TaskBlock/TaskBlockSolid.js":"10","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/utils/useLongPress.js":"11","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/store/index.js":"12","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/Modal/index.js":"13","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/index.js":"14","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/App.js":"15","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/utils/useClickOutside.js":"16","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/Calendar/Calendar.js":"17","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/Calendar/CalendarCell.js":"18","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/Playground.js":"19","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/CalendarList.js":"20","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/SearchBar.js":"21","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/TaskBlock/index.js":"22","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/utils/useMousePosition.js":"23","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/Modal/Modal.js":"24","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/NavBar.js":"25","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/utils/reqFrame.js":"26","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/Button/Button.js":"27","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/TaskEditor/TaskEditor.js":"28","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/utils/useActions.js":"29","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/TaskEditor/index.js":"30","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/Button/index.js":"31","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/Button/ButtonGroup.js":"32","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/Calendar/index.js":"33","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/Switch/index.js":"34","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/CalendarType/index.js":"35","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/CalendarType/CalendarType.js":"36","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/Switch/Switch.js":"37","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/BackForwardSwitch/index.js":"38","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/BackForwardSwitch/BackForwardSwitch.js":"39","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/utils/usePrevious.js":"40","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/CalendarGrid/useGridMotion.js":"41","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/Calendar/useWeekBarMotion.js":"42","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/utils/useHistory.js":"43","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/CalendarGrid/TableEl.js":"44","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/CalendarGrid/useTaskBlockList.js":"45","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/CalendarInput/CalendarInput.js":"46","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/Select/index.js":"47","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/Select/Select.js":"48","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/Select/Option.js":"49"},{"size":6717,"mtime":1612494605878,"results":"50","hashOfConfig":"51"},{"size":2202,"mtime":1612324338630,"results":"52","hashOfConfig":"51"},{"size":9077,"mtime":1614152370407,"results":"53","hashOfConfig":"51"},{"size":948,"mtime":1612835856248,"results":"54","hashOfConfig":"51"},{"size":362,"mtime":1608534016529,"results":"55","hashOfConfig":"51"},{"size":630,"mtime":1614331219674,"results":"56","hashOfConfig":"51"},{"size":922,"mtime":1612426030180,"results":"57","hashOfConfig":"51"},{"size":219,"mtime":1614145053768,"results":"58","hashOfConfig":"51"},{"size":3453,"mtime":1614145840722,"results":"59","hashOfConfig":"51"},{"size":1724,"mtime":1614147805052,"results":"60","hashOfConfig":"51"},{"size":1866,"mtime":1610540756719,"results":"61","hashOfConfig":"51"},{"size":796,"mtime":1612518269051,"results":"62","hashOfConfig":"51"},{"size":35,"mtime":1612168659419,"results":"63","hashOfConfig":"51"},{"size":613,"mtime":1614331999901,"results":"64","hashOfConfig":"51"},{"size":4806,"mtime":1612515165268,"results":"65","hashOfConfig":"51"},{"size":621,"mtime":1614331613294,"results":"66","hashOfConfig":"51"},{"size":9794,"mtime":1614324734184,"results":"67","hashOfConfig":"51"},{"size":1969,"mtime":1612423634773,"results":"68","hashOfConfig":"51"},{"size":1246,"mtime":1610696760726,"results":"69","hashOfConfig":"51"},{"size":1527,"mtime":1608868003458,"results":"70","hashOfConfig":"51"},{"size":926,"mtime":1609143510882,"results":"71","hashOfConfig":"51"},{"size":123,"mtime":1610453946174,"results":"72","hashOfConfig":"51"},{"size":1108,"mtime":1610527837909,"results":"73","hashOfConfig":"51"},{"size":1467,"mtime":1614321391966,"results":"74","hashOfConfig":"51"},{"size":518,"mtime":1609142950028,"results":"75","hashOfConfig":"51"},{"size":802,"mtime":1609832470250,"results":"76","hashOfConfig":"51"},{"size":1257,"mtime":1612170159400,"results":"77","hashOfConfig":"51"},{"size":1571,"mtime":1614320346705,"results":"78","hashOfConfig":"51"},{"size":962,"mtime":1612171810371,"results":"79","hashOfConfig":"51"},{"size":40,"mtime":1612168897749,"results":"80","hashOfConfig":"51"},{"size":105,"mtime":1612168728657,"results":"81","hashOfConfig":"51"},{"size":215,"mtime":1612168688480,"results":"82","hashOfConfig":"51"},{"size":114,"mtime":1612168447456,"results":"83","hashOfConfig":"51"},{"size":36,"mtime":1612425770385,"results":"84","hashOfConfig":"51"},{"size":69,"mtime":1612425993184,"results":"85","hashOfConfig":"51"},{"size":612,"mtime":1612426286561,"results":"86","hashOfConfig":"51"},{"size":1976,"mtime":1612424849690,"results":"87","hashOfConfig":"51"},{"size":47,"mtime":1612425887281,"results":"88","hashOfConfig":"51"},{"size":1348,"mtime":1612426401968,"results":"89","hashOfConfig":"51"},{"size":204,"mtime":1612439881763,"results":"90","hashOfConfig":"51"},{"size":1176,"mtime":1612839605963,"results":"91","hashOfConfig":"51"},{"size":928,"mtime":1613978629560,"results":"92","hashOfConfig":"51"},{"size":942,"mtime":1613978605430,"results":"93","hashOfConfig":"51"},{"size":2830,"mtime":1614151310137,"results":"94","hashOfConfig":"51"},{"size":2221,"mtime":1614147219837,"results":"95","hashOfConfig":"51"},{"size":2567,"mtime":1614332754722,"results":"96","hashOfConfig":"51"},{"size":35,"mtime":1614331861458,"results":"97","hashOfConfig":"51"},{"size":158,"mtime":1614332300166,"results":"98","hashOfConfig":"51"},{"size":158,"mtime":1614332295029,"results":"99","hashOfConfig":"51"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"102","usedDeprecatedRules":"103"},"nwanja",{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"106"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109","usedDeprecatedRules":"110"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"113"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"116"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"110"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"123","messages":"124","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"110"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"110"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"116"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"106"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"141","messages":"142","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"143","usedDeprecatedRules":"103"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"110"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"148"},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"106"},{"filePath":"151","messages":"152","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"106"},{"filePath":"153","messages":"154","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"116"},{"filePath":"155","messages":"156","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"157","messages":"158","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"110"},{"filePath":"159","messages":"160","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"161"},{"filePath":"162","messages":"163","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"116"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"110"},{"filePath":"170","messages":"171","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"113"},{"filePath":"172","messages":"173","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"113"},{"filePath":"174","messages":"175","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"113"},{"filePath":"176","messages":"177","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"103"},{"filePath":"178","messages":"179","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"110"},{"filePath":"180","messages":"181","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"110"},{"filePath":"182","messages":"183","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"161"},{"filePath":"184","messages":"185","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"110"},{"filePath":"186","messages":"187","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"110"},{"filePath":"188","messages":"189","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"110"},{"filePath":"190","messages":"191","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"192","usedDeprecatedRules":"148"},{"filePath":"193","messages":"194","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"195","usedDeprecatedRules":"110"},{"filePath":"196","messages":"197","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"198","messages":"199","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"200","messages":"201","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"202","messages":"203","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"204","messages":"205","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"206","messages":"207","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"208","messages":"209","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/CalendarGrid/CalendarGrid.js",["210"],"import { useState, useEffect, useRef, Fragment, forwardRef } from 'react';\nimport styled from 'styled-components';\nimport moment from 'moment';\nimport { Calendar as CalendarIcon } from 'react-feather';\nimport {\n  CalendarGridTable as GridTable,\n  CalendarGridPointer as GridPointer,\n} from '../index';\nimport useGridMotion from './useGridMotion';\nimport useMousePosition from '../../utils/useMousePosition';\nimport usePrevious from '../../utils/usePrevious';\n\nlet bid = 0;\n\nconst CalendarGrid = ({ selectedDate, week, scrollTop }) => {\n  // console.log('grid-update');\n\n  // ref\n  const weekdaysShort = useRef(moment.weekdaysShort());\n  const containerRef = useRef();\n  const scrollRef = useRef();\n  const labelElRef = useRef();\n  const motionTable = useRef();\n  const tableHeight = useRef(0);\n  const tableWidth = useRef(0);\n  const labelWidth = useRef(0);\n\n  // previous\n  const oldWeekValue = usePrevious(week);\n\n  // motion\n  const { motion, motionProps, motionHandlers } = useGridMotion();\n\n  // mounted\n  useEffect(() => {\n    labelWidth.current = labelElRef.current.getBoundingClientRect().width;\n  }, []);\n\n  const { mousePosition, bind: mouseEvent } = useMousePosition(pos => {\n    let posX = pos.x - labelWidth.current;\n\n    return {\n      x: posX < 0 ? 0 : posX,\n      y: pos.y,\n    };\n  });\n\n  useEffect(() => {\n    if ((week !== undefined) & (oldWeekValue !== undefined)) {\n      if (week[0] < oldWeekValue[0]) {\n        motionHandlers.prev();\n      } else if (week[0] > oldWeekValue[0]) {\n        motionHandlers.next();\n      }\n    }\n  }, [week]);\n\n  // method\n  const handleTableMounted = tableBCR => {\n    tableHeight.current = tableBCR.height;\n    tableWidth.current = tableBCR.width;\n  };\n\n  const handlePointerInitialed = pointerTop => {\n    scrollRef.current.scrollTop =\n      pointerTop - scrollRef.current.getBoundingClientRect().height / 2;\n  };\n\n  const renderWeekList = () => {\n    return week.map((unix, idx) => {\n      const date = moment(unix);\n      return (\n        <motion.div\n          key={idx}\n          {...motionProps}\n          style={{ height: '100%', flex: 1 }}\n        >\n          <WeekCell\n            isActive={date.isSame(moment(selectedDate))}\n            isToday={date.isSame(moment().startOf('day'))}\n          >\n            <h5>{weekdaysShort[date.weekday()]}</h5>\n            <span>{date.date()}</span>\n          </WeekCell>\n        </motion.div>\n      );\n    });\n  };\n\n  // TimeLabel\n  const renderTimeLabel = () => {\n    let ht = 0;\n    const hours = Array(24)\n      .fill(0)\n      .map(() => ht++);\n\n    return (\n      <div>\n        {hours.map((h, index) => (\n          <GridLabelCell key={index}>\n            <span>{h < 10 ? `0${h}:00` : `${h}:00`}</span>\n            <Tick width={16} top={'25%'}></Tick>\n            <Tick width={32} top={'50%'}></Tick>\n            <Tick width={16} top={'75%'}></Tick>\n          </GridLabelCell>\n        ))}\n      </div>\n    );\n  };\n\n  return (\n    <GridContainer ref={containerRef}>\n      <GridWeekContainer>\n        <GridWeek>\n          <WeekLabelContainer>\n            <WeekLabel>\n              <CalendarIcon color=\"grey\" size=\"20\"></CalendarIcon>\n            </WeekLabel>\n          </WeekLabelContainer>\n          {renderWeekList()}\n        </GridWeek>\n      </GridWeekContainer>\n      <GridContentScroll {...mouseEvent} ref={scrollRef}>\n        <GridContent>\n          <GridLabel ref={labelElRef}>{renderTimeLabel()}</GridLabel>\n          <GridPointer\n            tableHeight={tableHeight.current}\n            tableWidth={tableWidth.current}\n            onInitialed={handlePointerInitialed}\n          ></GridPointer>\n          <motion.div {...motionProps} style={{ height: '100%', flex: 1 }}>\n            <GridTable\n              week={week}\n              mousePosition={mousePosition}\n              onMounted={handleTableMounted}\n            ></GridTable>\n          </motion.div>\n        </GridContent>\n      </GridContentScroll>\n    </GridContainer>\n  );\n};\n\nconst GridContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: #fff;\n`;\n\nconst GridWeekContainer = styled.div`\n  display: flex;\n  height: 6.4vw;\n`;\n\nconst GridWeek = styled.div`\n  display: flex;\n  flex: 1;\n  border-top: 1px solid ${props => props.theme.borderColor};\n  border-bottom: 1px solid ${props => props.theme.borderColor};\n  background-color: ${props => props.theme.primaryColorTertiary};\n`;\n\nconst WeekLabelContainer = styled.div`\n  position: relative;\n  width: 60px;\n  padding: 4px;\n  display: flex;\n  &::after {\n    content: '';\n    display: block;\n    width: 1px;\n    height: 100%;\n    position: absolute;\n    right: -1px;\n    top: 0;\n    background-color: ${props => props.theme.borderColor};\n  }\n`;\n\nconst WeekLabel = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex: 1;\n  border-radius: 3px;\n  background-color: ${props => props.theme.primaryColorSecondary};\n`;\n\nconst WeekCell = styled.div`\n  flex: 1;\n  height: 100%;\n  padding: 10px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  border-right: 1px solid ${props => props.theme.borderColor};\n  line-height: 26px;\n  h5 {\n    margin: 0;\n    font-weight: 600;\n    color: ${props => {\n      if (props.isActive) {\n        return props.theme.primaryColor;\n      } else if (props.isToday) {\n        return props.theme.hightlightColor;\n      }\n      return props.theme.textColor;\n    }};\n  }\n  span {\n    font-size: 14px;\n    color: ${props => {\n      if (props.isActive) {\n        return props.theme.primaryColor;\n      } else if (props.isToday) {\n        return props.theme.hightlightColor;\n      }\n      return props.theme.textColorSecondary;\n    }};\n  }\n`;\n\nconst GridContentScroll = styled.div`\n  position: relative;\n  overflow-y: scroll;\n  width: calc(100% + 4px);\n  display: flex;\n  flex: 1 1 auto;\n  height: 0px;\n  &:hover::-webkit-scrollbar-thumb {\n    visibility: visible;\n  }\n  align-items: flex-start; // 使子元素撑满搞度\n`;\n\nconst GridContent = styled.div`\n  display: flex;\n  flex: 1;\n  min-height: min-content;\n`;\n\nconst GridLabel = styled.div`\n  width: 60px;\n  font-size: 14px;\n  color: #9e9e9e;\n  border-right: 1px solid ${props => props.theme.borderColor};\n  box-sizing: content-box;\n`;\n\nconst GridLabelCell = styled.div`\n  position: relative;\n  height: 7vw;\n  display: flex;\n  flex-direction: column;\n  &:first-child span {\n    display: none;\n  }\n  span {\n    display: block;\n    transform: translateY(-6px);\n  }\n`;\n\nconst Tick = styled.div`\n  position: absolute;\n  left: 0;\n  top: ${props => props.top};\n  width: ${props => props.width + 'px'};\n  height: 1px;\n  background-color: ${props => props.theme.tickColor};\n`;\n\nexport default CalendarGrid;\n",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/CalendarGrid/CalendarGridPointer.js",[],[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/CalendarGrid/CalendarGridTable.js",["211"],"import {\n  useState,\n  useEffect,\n  useMemo,\n  useRef,\n  useCallback,\n  forwardRef,\n} from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport styled from 'styled-components';\nimport { cloneDeep, update } from 'lodash';\nimport { _reqFrame } from '../../utils/reqFrame';\nimport useTaskBlockList from './useTaskBlockList';\nimport TableEl from './TableEl';\n\nlet bid = 0;\nconst CRITICAL_BLOCK_HEIGHT = 4;\nconst MODAL_WIDTH = 180;\n\nconst getModalOffsetX = (element, boundary) => {\n  let offsetX = 0;\n  if (element) {\n    let bcr = element.getBoundingClientRect();\n    offsetX = bcr.left + bcr.width + 20;\n    if (offsetX + MODAL_WIDTH > boundary) {\n      offsetX = bcr.left - MODAL_WIDTH - 20;\n    }\n  }\n  return offsetX;\n};\n\nconst CalendarGridTable = forwardRef(\n  ({ week, mousePosition, offset, onMounted }, ref) => {\n    // console.log('table-update');\n\n    // state\n    const [isTempBlockVisible, setIsTempBlockVisible] = useState(false);\n    const [isDrawing, setIsDrawing] = useState(false);\n    const [isResizing, setIsResizing] = useState(false);\n    const [isMoving, setIsMoving] = useState(false);\n    const [isCreating, setIsCreating] = useState(false);\n\n    // ref\n    const tableBCR = useRef();\n    const hoveredCol = useRef(-1);\n    const activedCol = useRef(0);\n    const tempBlock = useRef({\n      top: 0,\n      height: 0,\n    });\n    const mousePositionCache = useRef({ x: 0, y: 0 });\n    const tableElRef = useRef();\n    const tempBlockRef = useRef();\n    const taskBlockListRef = useRef();\n\n    const cursor = useMemo(() => {\n      if (isDrawing || isResizing) return 'ns-resize';\n      if (isMoving) return 'move';\n    }, [isDrawing, isResizing, isMoving]);\n\n    const dispatch = useDispatch();\n    const taskList = useSelector(state => state.taskList);\n\n    const {\n      blockList,\n      activedBlock,\n      activedBlockId,\n      findBlockById,\n      addBlock,\n      updateBlock,\n      activeBlock,\n      disactiveBlock,\n    } = useTaskBlockList();\n\n    const openModal = useCallback(\n      offsetX => {\n        dispatch({\n          type: 'UPDATE_TASK_EDITOR',\n          payload: {\n            isOpen: true,\n            position: offsetX,\n          },\n        });\n      },\n      [dispatch],\n    );\n\n    const closeModal = useCallback(() => {\n      dispatch({\n        type: 'UPDATE_TASK_EDITOR',\n        payload: {\n          isOpen: false,\n          position: null,\n        },\n      });\n    }, []);\n\n    const outArea = useCallback(() => {\n      setIsDrawing(false);\n    }, []);\n\n    const initTempBlock = useCallback(() => {\n      tempBlock.current = {\n        top: 0,\n        height: 0,\n      };\n    }, []);\n\n    const finishMoving = useCallback(() => {\n      updateBlock(activedBlockId, {\n        unix: week[activedCol.current],\n        top: tempBlock.current.top,\n        height: tempBlock.current.height,\n        disabled: false,\n      });\n      if (isTempBlockVisible) {\n        setIsTempBlockVisible(false);\n      }\n      initTempBlock();\n    }, [week, isTempBlockVisible, activedBlockId, updateBlock, initTempBlock]);\n\n    // const finishResizing = useCallback(() => {\n    //   handleMouseUp();\n    // }, [handleMouseUp]);\n\n    const handleBlockActive = (id, block) => {\n      if (!isCreating) {\n        tempBlock.current = {\n          top: block.top,\n          height: block.height,\n        };\n        mousePositionCache.current.y = mousePosition.y;\n        activedCol.current = hoveredCol.current;\n      }\n      activeBlock(id);\n      setIsCreating(false);\n      closeModal();\n    };\n\n    const handleBlockDisactive = useCallback(() => {\n      if (isMoving) {\n        finishMoving();\n      }\n      disactiveBlock();\n      setIsResizing(false);\n      setIsMoving(false);\n    }, [isMoving, finishMoving, disactiveBlock]);\n\n    const handleBlockPickUp = useCallback(\n      id => {\n        if (isMoving) {\n          return;\n        }\n        const block = findBlockById(id);\n        updateBlock(id, {\n          disabled: true,\n        });\n        if (block) {\n          setIsMoving(true);\n          setIsTempBlockVisible(true);\n        }\n      },\n      [isMoving, findBlockById, updateBlock],\n    );\n\n    const handleBlockClick = useCallback((id, element) => {\n      // console.log('handleBlockClick', id, element);\n      // openModal(\n      //   getModalOffsetX(\n      //     element,\n      //     tableBCR.current.left + tableBCR.current.width,\n      //   ),\n      // );\n    }, []);\n\n    const handleBlockResize = useCallback(id => {\n      setIsResizing(true);\n    }, []);\n\n    const finishCreateTask = useCallback(() => {\n      addBlock({\n        id: bid++,\n        unix: week[activedCol.current],\n        top: tempBlock.current.top,\n        height: tempBlock.current.height,\n        actived: false,\n        disabled: false,\n        moving: false,\n      });\n      setIsCreating(false);\n      initTempBlock();\n    }, [week, addBlock, initTempBlock]);\n\n    const handleMouseDown = useCallback(\n      e => {\n        initTempBlock();\n\n        if (isCreating) {\n          setIsDrawing(false);\n        }\n        if (!isResizing) {\n          setIsDrawing(true);\n        }\n        tempBlock.current.top = mousePosition.y;\n      },\n      [isResizing, isCreating, mousePosition.y, initTempBlock],\n    );\n\n    const handleMouseMove = useCallback(() => {\n      if (isDrawing) {\n        tempBlock.current.height = mousePosition.y - tempBlock.current.top;\n      }\n\n      if (activedBlock) {\n        if (isResizing) {\n          updateBlock(activedBlock.id, {\n            height: mousePosition.y - activedBlock.top,\n          });\n        } else {\n          if (!isMoving) {\n            setIsMoving(true);\n          }\n\n          if (!activedBlock.disabled) {\n            updateBlock(activedBlock.id, { disabled: true });\n          } else {\n            tempBlock.current.top =\n              mousePosition.y -\n              (mousePositionCache.current.y - activedBlock.top);\n            activedCol.current = hoveredCol.current;\n          }\n        }\n      }\n    }, [\n      isDrawing,\n      isResizing,\n      isMoving,\n      activedBlock,\n      mousePosition.y,\n      updateBlock,\n    ]);\n\n    const handleMouseUp = useCallback(\n      e => {\n        if (e) {\n          e.stopPropagation();\n          e.preventDefault();\n        }\n\n        if (activedBlock) {\n          handleBlockDisactive();\n          return;\n        }\n\n        if (isCreating) {\n          setIsCreating(false);\n        }\n\n        if (tempBlock.current.height > CRITICAL_BLOCK_HEIGHT) {\n          openModal(\n            getModalOffsetX(\n              tempBlockRef.current,\n              tableBCR.current.left + tableBCR.current.width,\n            ),\n          );\n          setIsCreating(true);\n        }\n        setIsDrawing(false);\n      },\n      [activedBlock, isCreating, handleBlockDisactive, openModal],\n    );\n\n    const handleMouseLeave = useCallback(() => {\n      setIsDrawing(false);\n    }, []);\n\n    const handleKeyPress = useCallback(e => {\n      // console.log(e);\n    }, []);\n\n    useEffect(() => {\n      tableBCR.current = tableElRef.current.getBoundingClientRect();\n      onMounted(tableBCR.current);\n    }, [onMounted]);\n\n    useEffect(() => {\n      let posX = mousePosition.x;\n      if (mousePosition.x > tableBCR.current.width) {\n        outArea();\n        posX = tableBCR.current.width;\n      }\n\n      let col = parseInt(posX / (tableBCR.current.width / 7));\n      col = col === 7 ? 6 : col;\n      hoveredCol.current = col;\n\n      if (isDrawing) {\n        activedCol.current = hoveredCol.current;\n      }\n    }, [isDrawing, mousePosition, outArea]);\n\n    useEffect(() => {\n      if (taskList.length === 0) {\n        return;\n      }\n      finishCreateTask();\n    }, [taskList, finishCreateTask]);\n\n    const tableElProps = {\n      week,\n      blockList,\n      tempBlockRef,\n      isTempBlockVisible,\n      tempBlock: tempBlock.current,\n      tableBCR: tableBCR.current,\n      activedCol: activedCol.current,\n      isDrawing: isDrawing,\n      isMoving: isMoving,\n      isCreating: isCreating,\n      criticalBlockHeight: CRITICAL_BLOCK_HEIGHT,\n      onBlockActive: handleBlockActive,\n      onBlockDisactive: handleBlockDisactive,\n      onBlockPickUp: handleBlockPickUp,\n      onBlockClick: handleBlockClick,\n      onBlockResize: handleBlockResize,\n      onMouseUp: handleMouseUp,\n    };\n\n    return (\n      <Container\n        ref={tableElRef}\n        cursor={cursor}\n        onMouseDown={handleMouseDown}\n        onMouseMove={handleMouseMove}\n        onMouseUp={handleMouseUp}\n        onMouseLeave={handleMouseLeave}\n        onKeyPress={handleKeyPress}\n      >\n        <TableEl {...tableElProps}></TableEl>\n        {/* <div style={{ position: 'fixed', top: 0 }}>\n        <p>{`pos: ${mousePosition.x}^${mousePosition.y}`}</p>\n        <p>{`col: ${hoveredCol}`}</p>\n        <p>{`tempBlockTop: ${tempBlockTop}`}</p>\n        <p>{`tempBlockHeight: ${tempBlockHeight}`}</p>\n      </div> */}\n      </Container>\n    );\n  },\n);\n\nconst Container = styled.div`\n  display: flex;\n  flex: 1;\n  height: auto;\n  cursor: ${props => props.cursor};\n`;\n\nexport default CalendarGridTable;\n",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/index.js",[],[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/reportWebVitals.js",[],[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/themes.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/index.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/CalendarGrid/index.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/TaskBlock/TaskBlock.js",["212"],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/TaskBlock/TaskBlockSolid.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/utils/useLongPress.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/store/index.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/Modal/index.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/index.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/App.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/utils/useClickOutside.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/Calendar/Calendar.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/Calendar/CalendarCell.js",["213","214"],"import { memo, useMemo, useRef, useContext, useEffect } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport moment from 'moment';\n\nconst CalendarCell = memo(\n  ({ unix, isToday, isCurrentMonth, isActive, onClick }) => {\n    // context\n    const themeContext = useContext(ThemeContext);\n\n    // memo\n    const date = useMemo(() => moment(+unix), [unix]);\n    const isRound = useMemo(() => isActive || isToday, [isActive, isToday]);\n    const backgroundColor = useMemo(() => {\n      if (isActive) {\n        return themeContext.primaryColor;\n      } else if (isToday) {\n        return themeContext.hightlightColor;\n      } else {\n        return 'inherit';\n      }\n    }, [isActive, isToday]);\n\n    const textColor = useMemo(() => {\n      if (isActive || isToday) {\n        return 'white';\n      } else if (!isCurrentMonth) {\n        return themeContext.disabledColor;\n      } else {\n        return themeContext.textColor;\n      }\n    }, [isCurrentMonth, isActive, isToday]);\n\n    // render\n    return unix ? (\n      <Container onClick={() => onClick(unix)}>\n        <Cell\n          backgroundColor={backgroundColor}\n          color={textColor}\n          round={isRound}\n        >\n          {date.date()}\n        </Cell>\n      </Container>\n    ) : (\n      <div />\n    );\n  },\n  (prev, next) => {\n    const keys = ['unix', 'isToday', 'isCurrentMonth', 'isActive'];\n    for (let i = 0; i < keys.length; i++) {\n      let key = keys[i];\n      if (prev[key] !== next[key]) {\n        return false;\n      }\n    }\n    return true;\n  },\n);\n\nconst Container = styled.div`\n  cursor: pointer;\n  width: 100%;\n  height: 100%;\n`;\n\nconst Cell = styled.div.attrs(props => ({\n  style: {\n    backgroundColor: props.backgroundColor,\n    color: props.color,\n    borderRadius: props.round ? '8px' : 0,\n  },\n}))`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-family: 'Roboto';\n`;\n\nexport default CalendarCell;\n","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/Playground.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/CalendarList.js",[],[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/SearchBar.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/TaskBlock/index.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/utils/useMousePosition.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/Modal/Modal.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/NavBar.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/utils/reqFrame.js",[],[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/Button/Button.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/TaskEditor/TaskEditor.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/utils/useActions.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/TaskEditor/index.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/Button/index.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/Button/ButtonGroup.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/Calendar/index.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/Switch/index.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/CalendarType/index.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/CalendarType/CalendarType.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/Switch/Switch.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/BackForwardSwitch/index.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/BackForwardSwitch/BackForwardSwitch.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/utils/usePrevious.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/CalendarGrid/useGridMotion.js",["215"],"import { useState, useEffect } from 'react';\nimport {\n  motion,\n  useAnimation,\n  useMotionValue,\n  useTransform,\n} from 'framer-motion';\n\nconst useGridMotion = ({ resolveFn } = {}) => {\n  const [weekSwitchStatus, setWeekSwitchStatus] = useState('static');\n\n  const control = useAnimation();\n\n  useEffect(() => {\n    switchPromise.then(() => resolveFn && resolveFn());\n  }, [weekSwitchStatus]);\n\n  const prev = () => {\n    setWeekSwitchStatus('prev');\n  };\n\n  const next = () => {\n    setWeekSwitchStatus('next');\n  };\n\n  const switchPromise = new Promise((resolve, reject) => {\n    if (weekSwitchStatus !== 'static') {\n      if (weekSwitchStatus === 'prev') {\n        control.set({ x: -80, opacity: 0 });\n        control.start({ x: 0, opacity: 1 });\n      } else {\n        control.set({ x: 80, opacity: 0 });\n        control.start({ x: 0, opacity: 1 });\n      }\n      setTimeout(() => {\n        setWeekSwitchStatus('static');\n        resolve();\n      }, 300);\n    }\n  });\n\n  return {\n    motion,\n    motionProps: {\n      animate: control,\n      transition: { duration: 0.3 },\n    },\n    motionHandlers: {\n      prev,\n      next,\n    },\n  };\n};\n\nexport default useGridMotion;\n","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/Calendar/useWeekBarMotion.js",["216","217"],"import { useEffect, useCallback } from 'react';\nimport { motion, useAnimation } from 'framer-motion';\n\nconst DURATION = 0.2;\n\nconst useWeekBarMotion = ({ pos, initialPos, fixY, resolveFn } = {}) => {\n  const control = useAnimation();\n\n  useEffect(() => {\n    if (pos >= 0) {\n      animePromise();\n    }\n  }, [pos]);\n\n  const animePromise = useCallback(() => {\n    if (initialPos > 0) {\n      control.set({\n        y: initialPos * 36 + fixY,\n      });\n      control.start({\n        y: pos * 36 + fixY,\n        // type: 'spring',\n        // stiffness: 2000,\n      });\n    }\n  }, [pos]);\n\n  return {\n    motion,\n    motionProps: {\n      style: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        transform: `translateY(${pos * 36 + fixY}px)`,\n        zIndex: -1,\n      },\n      animate: control,\n      transition: { duration: DURATION },\n    },\n  };\n};\n\nexport default useWeekBarMotion;\n","/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/utils/useHistory.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/CalendarGrid/TableEl.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/widgets/CalendarGrid/useTaskBlockList.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/CalendarInput/CalendarInput.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/Select/index.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/Select/Select.js",[],"/Users/bowiego/Documents/Playground/react-demo/my-calendar/src/components/Select/Option.js",[],{"ruleId":"218","severity":1,"message":"219","line":56,"column":6,"nodeType":"220","endLine":56,"endColumn":12,"suggestions":"221"},{"ruleId":"218","severity":1,"message":"222","line":96,"column":8,"nodeType":"220","endLine":96,"endColumn":10,"suggestions":"223"},{"ruleId":"218","severity":1,"message":"224","line":52,"column":8,"nodeType":"220","endLine":52,"endColumn":26,"suggestions":"225"},{"ruleId":"218","severity":1,"message":"226","line":21,"column":8,"nodeType":"220","endLine":21,"endColumn":27,"suggestions":"227"},{"ruleId":"218","severity":1,"message":"228","line":31,"column":8,"nodeType":"220","endLine":31,"endColumn":43,"suggestions":"229"},{"ruleId":"218","severity":1,"message":"230","line":16,"column":6,"nodeType":"220","endLine":16,"endColumn":24,"suggestions":"231"},{"ruleId":"218","severity":1,"message":"232","line":13,"column":6,"nodeType":"220","endLine":13,"endColumn":11,"suggestions":"233"},{"ruleId":"218","severity":1,"message":"234","line":26,"column":6,"nodeType":"220","endLine":26,"endColumn":11,"suggestions":"235"},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'motionHandlers' and 'oldWeekValue'. Either include them or remove the dependency array.","ArrayExpression",["236"],"React Hook useCallback has a missing dependency: 'dispatch'. Either include it or remove the dependency array.",["237"],"React Hook useMemo has a missing dependency: 'isSolid'. Either include it or remove the dependency array.",["238"],"React Hook useMemo has missing dependencies: 'themeContext.hightlightColor' and 'themeContext.primaryColor'. Either include them or remove the dependency array.",["239"],"React Hook useMemo has missing dependencies: 'themeContext.disabledColor' and 'themeContext.textColor'. Either include them or remove the dependency array.",["240"],"React Hook useEffect has missing dependencies: 'resolveFn' and 'switchPromise'. Either include them or remove the dependency array. If 'resolveFn' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["241"],"React Hook useEffect has a missing dependency: 'animePromise'. Either include it or remove the dependency array.",["242"],"React Hook useCallback has missing dependencies: 'control', 'fixY', and 'initialPos'. Either include them or remove the dependency array.",["243"],{"desc":"244","fix":"245"},{"desc":"246","fix":"247"},{"desc":"248","fix":"249"},{"desc":"250","fix":"251"},{"desc":"252","fix":"253"},{"desc":"254","fix":"255"},{"desc":"256","fix":"257"},{"desc":"258","fix":"259"},"Update the dependencies array to be: [motionHandlers, oldWeekValue, week]",{"range":"260","text":"261"},"Update the dependencies array to be: [dispatch]",{"range":"262","text":"263"},"Update the dependencies array to be: [resizing, moving, isSolid]",{"range":"264","text":"265"},"Update the dependencies array to be: [isActive, isToday, themeContext.hightlightColor, themeContext.primaryColor]",{"range":"266","text":"267"},"Update the dependencies array to be: [isActive, isToday, isCurrentMonth, themeContext.disabledColor, themeContext.textColor]",{"range":"268","text":"269"},"Update the dependencies array to be: [resolveFn, switchPromise, weekSwitchStatus]",{"range":"270","text":"271"},"Update the dependencies array to be: [animePromise, pos]",{"range":"272","text":"273"},"Update the dependencies array to be: [control, fixY, initialPos, pos]",{"range":"274","text":"275"},[1553,1559],"[motionHandlers, oldWeekValue, week]",[2431,2433],"[dispatch]",[1101,1119],"[resizing, moving, isSolid]",[695,714],"[isActive, isToday, themeContext.hightlightColor, themeContext.primaryColor]",[961,996],"[isActive, isToday, isCurrentMonth, themeContext.disabledColor, themeContext.textColor]",[374,392],"[resolveFn, switchPromise, weekSwitchStatus]",[308,313],"[animePromise, pos]",[577,582],"[control, fixY, initialPos, pos]"]